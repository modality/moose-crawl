!function(){class n{constructor(n){this.id=n}toString(){return this.id}}let t=0;function e(e){return e||(e=`~.${t}`,t+=1),new n(e)}class r{constructor(n=[]){this.data=n}set(n,t){let e=[];for(let t=0;t<this.data.length;t++){const r=this.data[t];n!==r[0]&&e.push(r)}return e.push([n,t]),new r(e)}get(n){for(let t=0;t<this.data.length;t++){const e=this.data[t];if(n===e[0])return e[1]}}toMap(){return new Map(this.data)}pprint(){console.log(this.toMap())}toString(){return this.toMap().toString()}}function u(t){return t&&t.constructor===n}function o(n){return n&&n.constructor===Array}const i=function(){};function l(n,t){if(u(n)){const e=t.get(n);return void 0===e?n:l(e,t)}return n}function c(n,t){const e=l(n,t);if(o(e)){let n=[];for(let r=0;r<e.length;r++){const u=e[r];if(u===i){const u=c(e[r+1],t);n=n.concat(u);break}n.push(c(u,t))}return n}return e}function f(n,t,e){n=l(n,e),t=l(t,e);const r=u(n),c=u(t);return n===t?e:r?e.set(n,t):c?e.set(t,n):o(n)&&o(t)?function(n,t,e){if(!n.length&&!t.length)return e;if(n[0]===i)return f(n[1],t,e);if(t[0]===i)return f(t[1],n,e);if(n.length&&!t.length||!n.length&&t.length)return null;const r=f(n[0],t[0],e);return r&&f(n.slice(1),t.slice(1),r)}(n,t,e):null}function y(...n){return function*(t){yield*function*t(e,r){if(e===n.length)return;let u=n[e];"GeneratorFunction"!==u.constructor.name&&(u=u());let o=u(r);for(;;){let r=o.next(),u=r.value;if(r.done)break;u?e===n.length-1?yield u:yield*t(e+1,u):yield null}}(0,t)}}function d(...n){let t=!1,e=0;return solNum=0,"number"==typeof n[0]&&(t=n[0],e=1),function*(r){yield*function*e(r,u,o){if(r===n.length)return;let i=n[r];"GeneratorFunction"!==i.constructor.name&&(i=i());const l=i(u);for(;;){const n=l.next(),e=n.value;if(n.done)break;if(e&&(yield e,o++,t&&o>=t))return}yield*e(r+1,u,o)}(e,r,0)}}function s(n,t){return function*(e){yield f(n,t,e)}}function a(n,t,e){return u(t)?s([n,i,t],e):s([n,...t],e)}function p(n,t){return function(r=e()){return a(n,r,t)}}function m(n,t){return function(r=e()){return a(r,n,t)}}function h(n){return s(n,[])}function b(n,t,e){return function*(r){let o=0,i=null;n=l(n,r),t=l(t,r),e=l(e,r);const c=u(n),f=u(t),y=u(e);c&&(i=n,o++),f&&(i=t,o++),y&&(i=e,o++),0===o?n+t===e?yield r:yield null:1===o?i===n?"number"==typeof e&&"number"==typeof t?yield*s(n,e-t)(r):yield null:i===t?"number"==typeof e&&"number"==typeof n?yield*s(t,e-n)(r):yield null:"number"==typeof n&&"number"==typeof t?yield*s(e,n+t)(r):yield null:yield null}}function g(n,t,e){return function*(r){let o=0,i=null;n=l(n,r),t=l(t,r),e=l(e,r),u(n)&&(i=n,o++),u(t)&&(i=t,o++),u(e)&&(i=e,o++),0===o?n*t===e?yield r:yield null:1===o?i===n?"number"==typeof e&&"number"==typeof t?yield*s(n,e/t)(r):yield null:i===t?"number"==typeof e&&"number"==typeof n?yield*s(t,e/n)(r):yield null:"number"==typeof n&&"number"==typeof t?yield*s(e,n*t)(r):yield null:yield null}}function v(n,t){return function*(e){n=l(n,e),t=l(t,e),"number"==typeof n&&"number"==typeof t&&n<t&&(yield e),yield null}}function w(n,t){return function*(e){n=l(n,e),t=l(t,e),"number"==typeof n&&"number"==typeof t&&n<=t&&(yield e),yield null}}window.logic={lvar:e,run:function(n,e,u){t=0,2===arguments.length&&(u=e,e=n,n=-1),"GeneratorFunction"!==u.constructor.name&&(u=u()),e instanceof Array||(e=[e]);const o=[];let i=new r,l=u(i);for(;n;){const t=l.next(),r=t.value;if(t.done)break;if(r){n--;const t={};e.forEach((n=>{t[n]=c(n,r)})),o.push(t)}}return o},and:y,or:d,eq:s,facts:function(...n){return function(...t){return d.apply(null,n.map((n=>y.apply(null,n.map(((n,e)=>s(n,t[e])))))))}},conso:a,firsto:p,resto:m,emptyo:h,membero:function n(t,r){return d(((n=e())=>y(p(n,r),s(n,t))),((u=e())=>y(m(u,r),n(t,u))))},appendo:function n(t,r,u){return d(y(h(t),s(r,u)),((o=e(),i=e(),l=e())=>y(a(o,i,t),a(o,l,u),n(i,r,l))))},numbero:function(n){return function*(t){"number"==typeof l(n,t)&&(yield t),yield null}},stringo:function(n){return function*(t){"string"==typeof l(n,t)&&(yield t),yield null}},arrayo:function(n){return function*(t){o(l(n,t))&&(yield t),yield null}},add:b,sub:function(n,t,e){return b(t,e,n)},mul:g,div:function(n,t,e){return g(t,e,n)},lt:v,le:w,gt:function(n,t){return v(t,n)},ge:function(n,t){return w(t,n)},succeed:function(){return function*(n){yield n}},fail:function(){return function*(n){yield null}},anyo:function n(t){return d(t,(()=>n(t)))}}}();
//# sourceMappingURL=index.ee75c612.js.map
